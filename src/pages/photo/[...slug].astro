---
import Layout from '@layouts/Layout.astro';
import OptimizedPhoto from '@components/OptimizedPhoto.astro';
import Shadow from '@components/Shadow.astro';
import { getCollection } from "astro:content";

export async function getStaticPaths() {
	const photos = await getCollection("photos");

	return photos.map(photo => ({
		params: { slug: photo.id },
		props: { photo },
	}));
};

const { photo } = Astro.props;
---
<Layout title={photo.data.pageTitle}>
	{/* TODO: add back button? */}
	<Shadow>
		<OptimizedPhoto image={photo.data.image} alt={photo.data.description} extraClass="w-auto h-screen" />
	</Shadow>
</Layout>
